(function(){var e={7821:function(e,t,s){"use strict";var o=s(6848),n=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("PageHeader"),t("router-view")],1)},r=[],a=function(){var e=this,t=e._self._c;return t("header",{staticClass:"navbar navbar-expand-lg navbar-dark bg-coffee"},[t("div",{staticClass:"container-fluid"},[t("router-link",{staticClass:"navbar-brand",attrs:{to:"/"}},[t("img",{staticClass:"logo",attrs:{src:s(3153),alt:"Brew Mastery Logo"}})]),t("div",{staticClass:"collapse navbar-collapse justify-content-end"},[t("ul",{staticClass:"navbar-nav ml-auto"},[t("li",{staticClass:"nav-item"},[t("router-link",{staticClass:"nav-link",attrs:{to:"/"}},[e._v("Početna")])],1),t("li",{staticClass:"nav-item"},[t("router-link",{staticClass:"nav-link",attrs:{to:"/coffees"}},[e._v("Kafe")])],1),t("li",{staticClass:"nav-item"},[t("router-link",{staticClass:"nav-link",attrs:{to:"/reviews"}},[e._v("Recenzije")])],1),t("li",{staticClass:"nav-item"},[t("router-link",{staticClass:"nav-link",attrs:{to:"/promotions"}},[e._v("Akcije")])],1),e.isGuest?e._e():t("li",{staticClass:"nav-item"},[t("button",{staticClass:"btn btn-logout ml-3",on:{click:e.logout}},[e._v(" Odjavi se ")])])])])],1)])},i=[],c=(s(4114),s(4979),{name:"PageHeader",data(){return{user:null}},computed:{isGuest(){return!this.user}},mounted(){const e=this.getCookie("token");if(e){const t=JSON.parse(atob(e.split(".")[1]));this.user=t}},methods:{getCookie(e){const t=`; ${document.cookie}`,s=t.split(`; ${e}=`);if(2===s.length)return s.pop().split(";").shift()},logout(){document.cookie="token=; Max-Age=0; path=/",this.user=null,this.$router.push("/login")}}}),l=c,d=s(1656),u=(0,d.A)(l,a,i,!1,null,"86fe31c2",null),m=u.exports,p={name:"App",components:{PageHeader:m}},f=p,v=(0,d.A)(f,n,r,!1,null,null,null),h=v.exports,g=s(6178),b=function(){var e=this,t=e._self._c;return t("div",[t("HomePageView")],1)},w=[],_=function(){var e=this,t=e._self._c;return t("div",{staticClass:"container mt-5"},[t("div",{staticClass:"d-flex justify-content-between align-items-center mb-4"},[t("h1",{staticClass:"text-center"},[e._v("Dobrodošli u Brew Mastery")]),e.isGuest?t("div",{staticClass:"ml-auto"},[t("router-link",{staticClass:"btn btn-primary",attrs:{to:"/login"}},[e._v("Prijavi se")]),t("router-link",{staticClass:"btn btn-secondary ml-3",attrs:{to:"/register"}},[e._v(" Registruj se ")])],1):t("div",{staticClass:"ml-auto"},[t("button",{staticClass:"btn btn-danger",on:{click:e.logout}},[e._v("Odjavi se")])])]),e.isGuest?t("p",{staticClass:"alert alert-warning"},[e._v(" Pregledate kao gost. Molimo vas da se prijavite ili registrujete kako biste kreirali narudžbine. ")]):e._e(),e.isUser?t("p",{staticClass:"alert alert-info"},[e._v(" Dobrodošli nazad, "+e._s(e.user.username)+"! Možete pregledati i kreirati narudžbine. ")]):e._e(),e.isAdmin?t("p",{staticClass:"alert alert-admin"},[e._v(" Dobrodošli nazad, Admine! Imate pun pristup za upravljanje korisnicima i sadržajem. ")]):e._e(),t("div",{staticClass:"row"},e._l(e.filteredOptions,(function(s){return t("div",{key:s.link,staticClass:"col-md-4 mb-4"},[t("div",{staticClass:"card h-100 text-center"},[s.image?t("img",{staticClass:"card-img-top",staticStyle:{height:"120px","object-fit":"cover"},attrs:{src:e.getImage(s.image),alt:s.name}}):e._e(),t("div",{staticClass:"card-body"},[t("h5",{staticClass:"card-title"},[e._v(e._s(s.name))]),t("router-link",{staticClass:"btn btn-primary w-100",attrs:{to:s.link}},[e._v(" "+e._s(s.buttonText)+" ")])],1)])])})),0)])},C=[],k={name:"HomePageView",data(){return{user:null,options:[{name:"Pogledaj kategorije",link:"/categories",image:"pogledaj-kategorije",buttonText:"Pogledaj kategorije"},{name:"Pogledaj kafe",link:"/coffees",image:"pogledaj-kafe",buttonText:"Pogledaj kafe"},{name:"Kreiraj narudžbinu",link:"/create-order",image:"kreiraj-narudzbinu",buttonText:"Kreiraj narudžbinu",userOnly:!0},{name:"Moje narudžbine",link:"/orders",image:"moje-narudzbine",buttonText:"Moje narudžbine",userOnly:!0},{name:"Pogledaj dodatke",link:"/addons",image:"pogledaj-dodatke",buttonText:"Pogledaj dodatke"},{name:"Pogledaj recenzije",link:"/reviews",image:"pogledaj-recenzije",buttonText:"Pogledaj recenzije"},{name:"Pogledaj promocije",link:"/promotions",image:"pogledaj-promocije",buttonText:"Pogledaj promocije"},{name:"Upravljaj dodacima",link:"/manage-addons",image:null,buttonText:"Upravljaj dodacima",adminOnly:!0},{name:"Upravljaj recenzijama",link:"/manage-reviews",image:null,buttonText:"Upravljaj recenzijama",adminOnly:!0},{name:"Upravljaj promocijama",link:"/manage-promotions",image:null,buttonText:"Upravljaj promocijama",adminOnly:!0},{name:"Upravljaj svim narudžbinama",link:"/admin-orders",image:null,buttonText:"Upravljaj narudžbinama",adminOnly:!0}]}},computed:{isGuest(){return!this.user},isUser(){return this.user&&!this.user.admin},isAdmin(){return this.user&&this.user.admin},filteredOptions(){return this.options.filter((e=>!(e.adminOnly&&!this.isAdmin)&&!(e.userOnly&&!this.isUser)))}},mounted(){const e=this.getCookie("token");if(e){const t=JSON.parse(atob(e.split(".")[1]));this.user=t}},methods:{getCookie(e){const t=`; ${document.cookie}`,s=t.split(`; ${e}=`);if(2===s.length)return s.pop().split(";").shift()},logout(){document.cookie="token=; Max-Age=0; path=/",this.user=null,this.$router.push("/login")},getImage(e){try{return s(1028)(`./${e}.webp`)}catch(t){return null}}}},y=k,A=(0,d.A)(y,_,C,!1,null,"93b4e88c",null),j=A.exports,x={components:{HomePageView:j}},P=x,O=(0,d.A)(P,b,w,!1,null,null,null),D=O.exports,z=function(){var e=this,t=e._self._c;return t("div",[t("LoginPageView")],1)},R=[],N=function(){var e=this,t=e._self._c;return t("div",{staticClass:"login-container"},[t("h1",{staticClass:"mb-4 text-center"},[e._v("Prijava")]),t("form",{on:{submit:function(t){return t.preventDefault(),e.login.apply(null,arguments)}}},[t("div",{staticClass:"mb-3"},[t("label",{staticClass:"form-label",attrs:{for:"username"}},[e._v("Korisničko ime")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],staticClass:"form-control",attrs:{type:"text",id:"username",required:""},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}})]),t("div",{staticClass:"mb-3"},[t("label",{staticClass:"form-label",attrs:{for:"password"}},[e._v("Lozinka")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",id:"password",required:""},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),t("button",{staticClass:"btn btn-primary w-100 mb-3",attrs:{type:"submit"}},[e._v(" Prijavi se ")]),t("button",{staticClass:"btn btn-secondary w-100 mb-3",on:{click:e.continueAsGuest}},[e._v(" Nastavi kao gost ")]),t("router-link",{staticClass:"btn btn-outline-primary w-100",attrs:{to:"/register"}},[e._v(" Registruj se ")])],1)])},I=[],S={name:"LoginPageView",data(){return{username:"",password:""}},methods:{login(){const e={username:this.username,password:this.password};fetch("http://localhost:8001/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((e=>e.json())).then((e=>{e.token?(document.cookie=`token=${e.token}; path=/`,this.$router.push("/")):alert("Pogrešno korisničko ime ili lozinka")})).catch((e=>console.error("Greška:",e)))},continueAsGuest(){this.$router.push("/")}}},$=S,E=(0,d.A)($,N,I,!1,null,"fb0537de",null),T=E.exports,U={components:{LoginPageView:T}},q=U,V=(0,d.A)(q,z,R,!1,null,null,null),L=V.exports,M=function(){var e=this,t=e._self._c;return t("div",[t("CategoryListView")],1)},B=[],H=function(){var e=this,t=e._self._c;return t("div",{staticClass:"container mt-5"},[t("h1",{staticClass:"mb-4 text-center"},[e._v("Kategorije proizvoda")]),e.categories.length?t("div",{staticClass:"row"},e._l(e.categories,(function(s){return t("div",{key:s.id,staticClass:"col-md-4 mb-4"},[t("div",{staticClass:"card h-100"},[e.categoryImage(s.name)?t("img",{staticClass:"card-img-top",staticStyle:{height:"200px","object-fit":"cover"},attrs:{src:e.categoryImage(s.name),alt:"Slika kategorije"}}):e._e(),t("div",{staticClass:"card-body"},[t("h5",{staticClass:"card-title"},[e._v(e._s(s.name))])])])])})),0):t("p",{staticClass:"alert alert-warning text-center"},[e._v(" Nema dostupnih kategorija. ")])])},G=[],K=s(3518),F={computed:{...(0,K.aH)({categories:e=>e.categories.categories})},mounted(){this.fetchCategories()},methods:{...(0,K.i0)(["fetchCategories"]),categoryImage(e){const t=e.toLowerCase().replace(/č/g,"c").replace(/ć/g,"c").replace(/š/g,"s").replace(/ž/g,"z").replace(/đ/g,"dj").replace(/\s+/g,"-");try{return s(7725)(`./${t}.webp`)}catch(o){return s(2079)}}}},J=F,W=(0,d.A)(J,H,G,!1,null,"190e83da",null),Z=W.exports,Q={components:{CategoryListView:Z}},X=Q,Y=(0,d.A)(X,M,B,!1,null,null,null),ee=Y.exports,te=function(){var e=this,t=e._self._c;return t("div",[t("OrdersListView")],1)},se=[],oe=function(){var e=this,t=e._self._c;return t("div",{staticClass:"container mt-5"},[t("h2",{staticClass:"mb-4 text-center"},[e._v("Moje narudžbine")]),e.orders.length>0?t("div",{staticClass:"list-group"},e._l(e.orders,(function(s){return t("router-link",{key:s.id,staticClass:"list-group-item list-group-item-action",attrs:{to:`/orders/${s.id}`}},[t("h5",[e._v("Narudžbina #"+e._s(s.id)+" - Status: "+e._s(s.status))]),t("p",[e._v("Kreirano: "+e._s(e.formatDate(s.createdAt)))])])})),1):t("p",{staticClass:"alert alert-warning text-center"},[e._v("Nemate narudžbine.")])])},ne=[],re={name:"OrdersListView",data(){return{socket:null}},computed:{...(0,K.aH)({orders:e=>e.orders.orders})},mounted(){this.fetchOrders(),this.socket=new WebSocket("ws://localhost:3000"),this.socket.onmessage=e=>{const t=JSON.parse(e.data);"ORDER_UPDATED"===t.type&&this.fetchOrders()}},methods:{...(0,K.i0)(["fetchOrders"]),formatDate(e){const t={year:"numeric",month:"long",day:"numeric"};return new Date(e).toLocaleDateString("sr-RS",t)}},beforeDestroy(){this.socket&&this.socket.close()}},ae=re,ie=(0,d.A)(ae,oe,ne,!1,null,"25a15e26",null),ce=ie.exports,le={components:{OrdersListView:ce}},de=le,ue=(0,d.A)(de,te,se,!1,null,null,null),me=ue.exports,pe=function(){var e=this,t=e._self._c;return t("div",[t("OrderDetailsView")],1)},fe=[],ve=function(){var e=this,t=e._self._c;return e.order?t("div",{staticClass:"container mt-5"},[t("h2",{staticClass:"mb-4 text-center"},[e._v("Detalji narudžbine #"+e._s(e.order.id))]),t("div",{staticClass:"order-summary d-flex justify-content-between align-items-start"},[t("div",{staticClass:"products-list"},[t("h3",[e._v("Proizvodi")]),t("ul",{staticClass:"list-group"},e._l(e.order.OrderItems,(function(s){return t("li",{key:s.id,staticClass:"list-group-item d-flex justify-content-between align-items-center"},[t("div",[t("h5",{staticClass:"text-right"},[e._v(e._s(s.Coffee.name))]),t("p",{staticClass:"text-right"},[e._v("Količina: "+e._s(s.quantity))]),t("p",{staticClass:"text-right"},[e._v("Cena po komadu: "+e._s(s.price)+" RSD")]),s.Addons.length>0?t("div",[t("h6",{staticClass:"text-right"},[e._v("Dodaci:")]),t("ul",{staticClass:"list-group"},e._l(s.Addons,(function(s){return t("li",{key:s.id,staticClass:"list-group-item text-right"},[e._v(" "+e._s(s.name)+" - "+e._s(s.price)+" RSD ")])})),0)]):t("div",{staticClass:"text-right"},[t("p",[e._v("Nema dodataka.")])])])])})),0)]),t("div",{staticClass:"total-price-box p-4 ml-3"},[t("h3",{staticClass:"text-center"},[e._v("Ukupan iznos")]),t("p",{staticClass:"text-center total-price"},[e._v(e._s(e.calculateTotal())+" RSD")])])]),"completed"!==e.order.status?t("div",{staticClass:"text-right mt-4"},[t("button",{staticClass:"btn btn-danger",on:{click:e.confirmCancelOrder}},[e._v(" Otkaži narudžbinu ")])]):e._e()]):e._e()},he=[],ge={name:"OrderDetailsView",computed:{...(0,K.aH)({order:e=>e.orders.order})},mounted(){const e=this.$route.params.id;this.fetchOrderDetails(e)},methods:{...(0,K.i0)(["fetchOrderDetails","cancelOrder"]),calculateTotal(){return this.order?this.order.OrderItems.reduce(((e,t)=>{const s=t.quantity*t.price,o=t.Addons.reduce(((e,t)=>e+t.price),0);return e+s+o}),0):0},confirmCancelOrder(){confirm("Da li ste sigurni da želite da otkažete ovu narudžbinu?")&&this.cancelOrder(this.$route.params.id).then((()=>{alert("Narudžbina je uspešno otkazana!"),this.$router.replace("/orders")})).catch((e=>{console.error("Greška prilikom otkazivanja narudžbine:",e)}))},formatDate(e){const t={year:"numeric",month:"long",day:"numeric"};return new Date(e).toLocaleDateString("sr-RS",t)}}},be=ge,we=(0,d.A)(be,ve,he,!1,null,"1ca9d9c6",null),_e=we.exports,Ce={components:{OrderDetailsView:_e}},ke=Ce,ye=(0,d.A)(ke,pe,fe,!1,null,null,null),Ae=ye.exports,je=function(){var e=this,t=e._self._c;return t("div",[t("CreateOrderView")],1)},xe=[],Pe=function(){var e=this,t=e._self._c;return t("div",{staticClass:"container mt-5"},[t("h2",{staticClass:"mb-4 text-center"},[e._v("Kreiraj novu narudžbinu")]),t("form",{on:{submit:function(t){return t.preventDefault(),e.submitOrder.apply(null,arguments)}}},[e._l(e.orderItems,(function(s,o){return t("div",{key:o,staticClass:"card mb-4 p-3"},[t("h3",[e._v("Proizvod "+e._s(o+1))]),t("div",{staticClass:"mb-3"},[t("label",{staticClass:"form-label",attrs:{for:"coffee"}},[e._v("Izaberi kafu:")]),t("select",{directives:[{name:"model",rawName:"v-model",value:s.selectedCoffeeId,expression:"orderItem.selectedCoffeeId"}],staticClass:"form-select",attrs:{id:"coffee",required:""},on:{change:function(t){var o=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(s,"selectedCoffeeId",t.target.multiple?o:o[0])}}},e._l(e.coffees,(function(s){return t("option",{key:s.id,domProps:{value:s.id}},[e._v(" "+e._s(s.name)+" - "+e._s(s.price)+" RSD ")])})),0)]),t("div",{staticClass:"mb-3"},[t("label",{staticClass:"form-label",attrs:{for:"quantity"}},[e._v("Količina:")]),t("input",{directives:[{name:"model",rawName:"v-model",value:s.quantity,expression:"orderItem.quantity"}],staticClass:"form-control",attrs:{type:"number",min:"1",id:"quantity",required:""},domProps:{value:s.quantity},on:{input:function(t){t.target.composing||e.$set(s,"quantity",t.target.value)}}})]),t("div",{staticClass:"mb-3"},[t("label",{staticClass:"form-label",attrs:{for:"addons"}},[e._v("Izaberi dodatke:")]),e._l(e.addons,(function(o){return t("div",{key:o.id,staticClass:"form-check"},[t("input",{directives:[{name:"model",rawName:"v-model",value:s.selectedAddons,expression:"orderItem.selectedAddons"}],staticClass:"form-check-input",attrs:{type:"checkbox"},domProps:{value:o.id,checked:Array.isArray(s.selectedAddons)?e._i(s.selectedAddons,o.id)>-1:s.selectedAddons},on:{change:function(t){var n=s.selectedAddons,r=t.target,a=!!r.checked;if(Array.isArray(n)){var i=o.id,c=e._i(n,i);r.checked?c<0&&e.$set(s,"selectedAddons",n.concat([i])):c>-1&&e.$set(s,"selectedAddons",n.slice(0,c).concat(n.slice(c+1)))}else e.$set(s,"selectedAddons",a)}}}),t("label",{staticClass:"form-check-label"},[e._v(" "+e._s(o.name)+" - "+e._s(o.price)+" RSD ")])])}))],2),t("button",{staticClass:"btn btn-danger",on:{click:function(t){return t.preventDefault(),e.removeOrderItem(o)}}},[e._v(" Ukloni proizvod ")])])})),t("button",{staticClass:"btn btn-secondary mb-3 me-3",on:{click:function(t){return t.preventDefault(),e.addOrderItem.apply(null,arguments)}}},[e._v(" Dodaj još jedan proizvod ")]),t("button",{staticClass:"btn btn-primary mb-3",attrs:{type:"submit"}},[e._v(" Potvrdi narudžbinu ")])],2)])},Oe=[],De={data(){return{orderItems:[{selectedCoffeeId:null,quantity:1,selectedAddons:[]}]}},computed:{...(0,K.aH)({coffees:e=>e.coffees.coffees,addons:e=>e.addons.addons})},mounted(){this.fetchCoffees(),this.fetchAddons()},methods:{...(0,K.i0)({fetchCoffees:"fetchCoffees",fetchAddons:"fetchAddons",placeOrder:"createOrder"}),addOrderItem(){this.orderItems.push({selectedCoffeeId:null,quantity:1,selectedAddons:[]})},removeOrderItem(e){this.orderItems.splice(e,1)},submitOrder(){const e=this.orderItems.every((e=>e.selectedCoffeeId&&e.quantity>0));if(!e)return void alert("Molimo vas da izaberete kafu i unesete ispravnu količinu za svaki proizvod.");const t={status:"pending",coffees:this.orderItems.map((e=>({coffeeId:e.selectedCoffeeId,quantity:e.quantity,price:this.coffees.find((t=>t.id===e.selectedCoffeeId)).price,addons:e.selectedAddons})))};this.placeOrder(t).then((()=>{alert("Narudžbina je uspešno poslata!"),this.$router.push("/orders")})).catch((e=>{console.error("Greška prilikom slanja narudžbine:",e)}))}}},ze=De,Re=(0,d.A)(ze,Pe,Oe,!1,null,"36886b5a",null),Ne=Re.exports,Ie={components:{CreateOrderView:Ne}},Se=Ie,$e=(0,d.A)(Se,je,xe,!1,null,null,null),Ee=$e.exports,Te=function(){var e=this,t=e._self._c;return t("div",[t("AdminOrdersView")],1)},Ue=[],qe=function(){var e=this,t=e._self._c;return t("div",{staticClass:"container mt-5"},[t("h1",{staticClass:"mb-4 text-center"},[e._v("Sve narudžbine (Admin prikaz)")]),t("table",{staticClass:"table table-striped"},[e._m(0),t("tbody",e._l(e.orders,(function(s){return t("tr",{key:s.id},[t("td",[e._v(e._s(s.id))]),t("td",[e._v(e._s(s.status))]),t("td",[e._v(e._s(e.getCustomerName(s.userId)))]),t("td",[e._v(e._s(e.formatDate(s.createdAt)))]),t("td",[t("router-link",{staticClass:"btn btn-primary me-2",attrs:{to:"/orders/"+s.id}},[e._v(" Pregledaj ")]),t("button",{staticClass:"btn btn-success me-2",on:{click:function(t){return e.updateStatusAction(s.id,"completed")}}},[e._v(" Obeleži kao završenu ")]),t("button",{staticClass:"btn btn-danger",on:{click:function(t){return e.cancelOrder(s.id)}}},[e._v(" Izbriši ")])],1)])})),0)])])},Ve=[function(){var e=this,t=e._self._c;return t("thead",{staticClass:"thead-dark"},[t("tr",[t("th",[e._v("ID narudžbine")]),t("th",[e._v("Status")]),t("th",[e._v("Kupac")]),t("th",[e._v("Datum")]),t("th",[e._v("Akcije")])])])}],Le={data(){return{socket:null}},computed:{...(0,K.aH)({orders:e=>e.orders.orders,users:e=>e.users.users})},mounted(){this.fetchAdminOrders(),this.fetchUsers(),this.socket=new WebSocket("ws://localhost:3000"),this.socket.onmessage=e=>{const t=JSON.parse(e.data);"ORDER_UPDATED"===t.type&&this.fetchAdminOrders()}},methods:{...(0,K.i0)(["fetchAdminOrders","fetchUsers","cancelOrder","updateStatus"]),getCustomerName(e){const t=this.users.find((t=>t.id===e));return t?t.username:"Nepoznat korisnik"},formatDate(e){const t={year:"numeric",month:"long",day:"numeric"};return new Date(e).toLocaleDateString("sr-RS",t)},updateStatusAction(e,t){e&&t?this.updateStatus({orderId:e,status:t}):console.error("Nevažeći ID narudžbine ili status")}},beforeDestroy(){this.socket&&this.socket.close()}},Me=Le,Be=(0,d.A)(Me,qe,Ve,!1,null,"23d5c0c7",null),He=Be.exports,Ge={components:{AdminOrdersView:He}},Ke=Ge,Fe=(0,d.A)(Ke,Te,Ue,!1,null,null,null),Je=Fe.exports,We=function(){var e=this,t=e._self._c;return t("div",[t("AddOnsView")],1)},Ze=[],Qe=function(){var e=this,t=e._self._c;return t("div",{staticClass:"container mt-5"},[t("h2",{staticClass:"mb-4 text-center"},[e._v("Dostupni dodaci")]),e.addons.length?t("div",{staticClass:"row"},e._l(e.addons,(function(s){return t("div",{key:s.id,staticClass:"col-md-4 mb-4"},[t("div",{staticClass:"card h-100 text-center"},[t("img",{staticClass:"card-img-top",staticStyle:{height:"150px","object-fit":"cover"},attrs:{src:e.getImage(s.name),alt:s.name}}),t("div",{staticClass:"card-body"},[t("h5",{staticClass:"card-title"},[e._v(e._s(s.name))]),t("p",{staticClass:"card-text"},[e._v("Cena: "+e._s(s.price)+" RSD")])])])])})),0):t("p",{staticClass:"alert alert-warning text-center"},[e._v(" Trenutno nema dostupnih dodataka. ")])])},Xe=[],Ye={computed:{...(0,K.aH)({addons:e=>e.addons.addons})},mounted(){this.fetchAddons()},methods:{...(0,K.i0)(["fetchAddons"]),getImage(e){const t=e.toLowerCase().replace(/č/g,"c").replace(/ć/g,"c").replace(/š/g,"s").replace(/ž/g,"z").replace(/đ/g,"dj").replace(/\s+/g,"-");try{return s(8520)(`./${t}.webp`)}catch(o){return s(8020)}}}},et=Ye,tt=(0,d.A)(et,Qe,Xe,!1,null,"6f681724",null),st=tt.exports,ot={components:{AddOnsView:st}},nt=ot,rt=(0,d.A)(nt,We,Ze,!1,null,null,null),at=rt.exports,it=function(){var e=this,t=e._self._c;return t("div",[t("ManageAddOnsView")],1)},ct=[],lt=function(){var e=this,t=e._self._c;return t("div",{staticClass:"container mt-5"},[t("h2",{staticClass:"mb-4 text-center"},[e._v("Upravljanje dodacima")]),e.addons.length?t("ul",{staticClass:"list-group mb-4"},e._l(e.addons,(function(s){return t("li",{key:s.id,staticClass:"list-group-item d-flex justify-content-between align-items-center"},[e._v(" "+e._s(s.name)+" - "+e._s(s.price)+" RSD "),t("div",[t("button",{staticClass:"btn btn-primary btn-sm me-2",on:{click:function(t){return e.prepareEdit(s)}}},[e._v(" Izmeni ")]),t("button",{staticClass:"btn btn-danger btn-sm",on:{click:function(t){return e.removeAddon(s.id)}}},[e._v(" Obriši ")])])])})),0):e._e(),e.isEditing?e._e():t("form",{staticClass:"card p-4",on:{submit:function(t){return t.preventDefault(),e.addAddon.apply(null,arguments)}}},[t("h3",{staticClass:"mb-3"},[e._v("Dodaj novi dodatak")]),t("div",{staticClass:"mb-3"},[t("label",{staticClass:"form-label",attrs:{for:"name"}},[e._v("Naziv dodatka:")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.newAddon.name,expression:"newAddon.name"}],staticClass:"form-control",attrs:{type:"text",id:"name",required:""},domProps:{value:e.newAddon.name},on:{input:function(t){t.target.composing||e.$set(e.newAddon,"name",t.target.value)}}})]),t("div",{staticClass:"mb-3"},[t("label",{staticClass:"form-label",attrs:{for:"price"}},[e._v("Cena:")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.newAddon.price,expression:"newAddon.price"}],staticClass:"form-control",attrs:{type:"number",id:"price",required:""},domProps:{value:e.newAddon.price},on:{input:function(t){t.target.composing||e.$set(e.newAddon,"price",t.target.value)}}})]),t("button",{staticClass:"btn btn-success",attrs:{type:"submit"}},[e._v("Dodaj dodatak")])]),e.isEditing?t("form",{staticClass:"card p-4 mt-4",on:{submit:function(t){return t.preventDefault(),e.submitEdit.apply(null,arguments)}}},[t("h3",{staticClass:"mb-3"},[e._v("Izmeni dodatak")]),t("div",{staticClass:"mb-3"},[t("label",{staticClass:"form-label",attrs:{for:"editName"}},[e._v("Naziv dodatka:")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.editableAddon.name,expression:"editableAddon.name"}],staticClass:"form-control",attrs:{type:"text",id:"editName",required:""},domProps:{value:e.editableAddon.name},on:{input:function(t){t.target.composing||e.$set(e.editableAddon,"name",t.target.value)}}})]),t("div",{staticClass:"mb-3"},[t("label",{staticClass:"form-label",attrs:{for:"editPrice"}},[e._v("Cena:")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.editableAddon.price,expression:"editableAddon.price"}],staticClass:"form-control",attrs:{type:"number",id:"editPrice",required:""},domProps:{value:e.editableAddon.price},on:{input:function(t){t.target.composing||e.$set(e.editableAddon,"price",t.target.value)}}})]),t("button",{staticClass:"btn btn-primary me-2",attrs:{type:"submit"}},[e._v("Sačuvaj izmene")]),t("button",{staticClass:"btn btn-secondary",on:{click:e.cancelEdit}},[e._v("Otkaži")])]):e._e()])},dt=[],ut={data(){return{newAddon:{name:"",price:0},isEditing:!1,editableAddon:null}},computed:{...(0,K.aH)({addons:e=>e.addons.addons})},mounted(){this.fetchAddons()},methods:{...(0,K.i0)(["fetchAddons","createAddon","deleteAddon","updateAddon"]),addAddon(){this.createAddon(this.newAddon).then((()=>{this.newAddon={name:"",price:0}}))},prepareEdit(e){this.isEditing=!0,this.editableAddon={...e}},cancelEdit(){this.isEditing=!1,this.editableAddon=null},submitEdit(){this.updateAddon(this.editableAddon).then((()=>{this.isEditing=!1,this.editableAddon=null}))},removeAddon(e){this.deleteAddon(e)}}},mt=ut,pt=(0,d.A)(mt,lt,dt,!1,null,"fd666c68",null),ft=pt.exports,vt={components:{ManageAddOnsView:ft}},ht=vt,gt=(0,d.A)(ht,it,ct,!1,null,null,null),bt=gt.exports,wt=function(){var e=this,t=e._self._c;return t("div",[t("ReviewsListView")],1)},_t=[],Ct=function(){var e=this,t=e._self._c;return t("div",{staticClass:"container mt-5"},[t("h2",{staticClass:"mb-4 text-center"},[e._v("Sve recenzije")]),e.reviews.length?t("div",{staticClass:"row"},e._l(e.reviews,(function(s){return t("div",{key:s.id,staticClass:"col-md-6 mb-4"},[t("div",{staticClass:"card h-100"},[t("div",{staticClass:"card-body"},[t("h5",{staticClass:"card-title"},[e._v(e._s(e.getCoffeeName(s)))]),t("p",{staticClass:"card-text"},[e._v(e._s(s.comment))]),t("p",{staticClass:"card-text"},[e._v(" Ocena: "),t("strong",[e._v(e._s(s.rating)+"/5")])]),t("p",{staticClass:"card-text"},[e._v("Korisnik: "+e._s(e.getUserName(s.userId)))]),t("p",{staticClass:"card-text"},[e._v(" Kreirano: "+e._s(e.formatDate(s.createdAt))+" ")]),e.isUser&&s.userId===e.userId?t("div",[t("button",{staticClass:"btn btn-primary me-2",on:{click:function(t){return e.editReview(s.id)}}},[e._v(" Izmeni ")]),t("button",{staticClass:"btn btn-danger",on:{click:function(t){return e.deleteReview(s.id)}}},[e._v(" Obriši ")])]):e._e()])])])})),0):t("p",{staticClass:"alert alert-warning text-center"},[e._v(" Trenutno nema dostupnih recenzija. ")]),e.isUser?t("div",{staticClass:"mt-5"},[t("h3",[e._v("Dodaj novu recenziju")]),t("form",{on:{submit:function(t){return t.preventDefault(),e.submitReview.apply(null,arguments)}}},[t("div",{staticClass:"mb-3"},[t("label",{staticClass:"form-label",attrs:{for:"coffee"}},[e._v("Izaberi kafu:")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.newReview.coffeeId,expression:"newReview.coffeeId"}],staticClass:"form-select",attrs:{id:"coffee",required:""},on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.newReview,"coffeeId",t.target.multiple?s:s[0])}}},e._l(e.coffees,(function(s){return t("option",{key:s.id,domProps:{value:s.id}},[e._v(" "+e._s(s.name)+" ")])})),0)]),t("div",{staticClass:"mb-3"},[t("label",{staticClass:"form-label",attrs:{for:"rating"}},[e._v("Ocena:")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.newReview.rating,expression:"newReview.rating"}],staticClass:"form-control",attrs:{type:"number",min:"1",max:"5",id:"rating",required:""},domProps:{value:e.newReview.rating},on:{input:function(t){t.target.composing||e.$set(e.newReview,"rating",t.target.value)}}})]),t("div",{staticClass:"mb-3"},[t("label",{staticClass:"form-label",attrs:{for:"comment"}},[e._v("Komentar:")]),t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.newReview.comment,expression:"newReview.comment"}],staticClass:"form-control",attrs:{id:"comment",required:""},domProps:{value:e.newReview.comment},on:{input:function(t){t.target.composing||e.$set(e.newReview,"comment",t.target.value)}}})]),t("button",{staticClass:"btn btn-primary w-100",attrs:{type:"submit"}},[e._v(" Pošalji recenziju ")])])]):e._e(),e.isGuest?t("div",{staticClass:"alert alert-info mt-5 text-center"},[e._v(" Morate biti prijavljeni da biste ostavili recenziju. ")]):e._e()])},kt=[],yt={data(){return{newReview:{rating:null,comment:"",coffeeId:null},userId:null}},computed:{...(0,K.aH)({reviews:e=>e.reviews.reviews,coffees:e=>e.coffees.coffees,users:e=>e.users.users}),isUser(){return null!==this.userId},isGuest(){return null===this.userId}},mounted(){this.fetchReviews(),this.fetchCoffees(),this.fetchUsers();const e=this.getCookie("token");if(e){const t=JSON.parse(atob(e.split(".")[1]));this.userId=t.id}},methods:{...(0,K.i0)(["fetchReviews","fetchCoffees","fetchUsers","createReview","deleteReview"]),getCoffeeName(e){if(e.Coffee&&e.Coffee.name)return e.Coffee.name;const t=this.coffees.find((t=>t.id===e.coffeeId));return t?t.name:"Nepoznata kafa"},getUserName(e){const t=this.users.find((t=>t.id===e));return t?t.username:"Nepoznat korisnik"},submitReview(){const e={rating:this.newReview.rating,comment:this.newReview.comment,coffeeId:this.newReview.coffeeId};this.createReview(e)},formatDate(e){const t={year:"numeric",month:"long",day:"numeric"};return new Date(e).toLocaleDateString("sr-RS",t)},getCookie(e){const t=`; ${document.cookie}`,s=t.split(`; ${e}=`);if(2===s.length)return s.pop().split(";").shift()}}},At=yt,jt=(0,d.A)(At,Ct,kt,!1,null,"be86ca1c",null),xt=jt.exports,Pt={components:{ReviewsListView:xt}},Ot=Pt,Dt=(0,d.A)(Ot,wt,_t,!1,null,null,null),zt=Dt.exports,Rt=function(){var e=this,t=e._self._c;return t("div",[t("ManageReviewsView")],1)},Nt=[],It=function(){var e=this,t=e._self._c;return t("div",{staticClass:"container mt-5"},[t("h2",{staticClass:"mb-4 text-center"},[e._v("Upravljanje recenzijama")]),e.reviews.length?t("ul",{staticClass:"list-group"},e._l(e.reviews,(function(s){return t("li",{key:s.id,staticClass:"list-group-item d-flex justify-content-between align-items-center"},[t("strong",[e._v(e._s(s.Coffee?.name||"Nepoznata kafa")+":")]),e._v(" "+e._s(s.comment)+" "),t("button",{staticClass:"btn btn-danger btn-sm",on:{click:function(t){return e.removeReview(s.id)}}},[e._v(" Obriši ")])])})),0):t("p",{staticClass:"alert alert-warning text-center"},[e._v(" Trenutno nema recenzija. ")])])},St=[],$t={computed:{...(0,K.aH)({reviews:e=>e.reviews.reviews})},mounted(){this.fetchReviews()},methods:{...(0,K.i0)(["fetchReviews","deleteReview"]),removeReview(e){this.deleteReview(e)}}},Et=$t,Tt=(0,d.A)(Et,It,St,!1,null,"2af6bd95",null),Ut=Tt.exports,qt={components:{ManageReviewsView:Ut}},Vt=qt,Lt=(0,d.A)(Vt,Rt,Nt,!1,null,null,null),Mt=Lt.exports,Bt=function(){var e=this,t=e._self._c;return t("div",[t("PromotionsListView")],1)},Ht=[],Gt=function(){var e=this,t=e._self._c;return t("div",{staticClass:"container mt-5"},[t("h2",{staticClass:"mb-4 text-center"},[e._v("Trenutne promocije")]),e.promotions.length?t("div",{staticClass:"row"},e._l(e.promotions,(function(s){return t("div",{key:s.name,staticClass:"col-md-4 mb-4"},[t("div",{staticClass:"card h-100"},[t("div",{staticClass:"card-body"},[t("h5",{staticClass:"card-title"},[e._v(e._s(s.name))]),t("p",{staticClass:"card-text"},[e._v(e._s(s.description))]),t("p",{staticClass:"card-text"},[e._v(" Popust: "),t("strong",[e._v(e._s(s.discount)+"%")])]),t("p",{staticClass:"card-text"},[e._v(" Važi od: "+e._s(e.formatDate(s.startDate))+" do "+e._s(e.formatDate(s.endDate))+" ")])])])])})),0):t("p",{staticClass:"alert alert-warning text-center"},[e._v(" Trenutno nema dostupnih promocija. ")])])},Kt=[],Ft={name:"PromotionsListView",data(){return{promotions:[]}},mounted(){this.fetchPromotions()},methods:{fetchPromotions(){fetch("http://localhost:3000/promotions").then((e=>e.json())).then((e=>{this.promotions=e})).catch((e=>console.error("Greška pri preuzimanju promocija:",e)))},formatDate(e){const t={year:"numeric",month:"long",day:"numeric"};return new Date(e).toLocaleDateString("sr-RS",t)}}},Jt=Ft,Wt=(0,d.A)(Jt,Gt,Kt,!1,null,"899dc0ba",null),Zt=Wt.exports,Qt={components:{PromotionsListView:Zt}},Xt=Qt,Yt=(0,d.A)(Xt,Bt,Ht,!1,null,null,null),es=Yt.exports,ts=function(){var e=this,t=e._self._c;return t("div",[t("ManagePromotionsView")],1)},ss=[],os=function(){var e=this,t=e._self._c;return t("div",{staticClass:"container mt-5"},[t("h2",{staticClass:"mb-4 text-center"},[e._v("Upravljanje promocijama")]),t("h3",{staticClass:"mb-3"},[e._v("Dodaj novu promociju")]),t("form",{staticClass:"card p-4",on:{submit:function(t){return t.preventDefault(),e.submitPromotion.apply(null,arguments)}}},[t("div",{staticClass:"mb-3"},[t("label",{staticClass:"form-label",attrs:{for:"name"}},[e._v("Naziv promocije:")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.newPromotion.name,expression:"newPromotion.name"}],staticClass:"form-control",attrs:{id:"name",required:""},domProps:{value:e.newPromotion.name},on:{input:function(t){t.target.composing||e.$set(e.newPromotion,"name",t.target.value)}}})]),t("div",{staticClass:"mb-3"},[t("label",{staticClass:"form-label",attrs:{for:"description"}},[e._v("Opis:")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.newPromotion.description,expression:"newPromotion.description"}],staticClass:"form-control",attrs:{id:"description",required:""},domProps:{value:e.newPromotion.description},on:{input:function(t){t.target.composing||e.$set(e.newPromotion,"description",t.target.value)}}})]),t("div",{staticClass:"mb-3"},[t("label",{staticClass:"form-label",attrs:{for:"discount"}},[e._v("Popust (%):")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.newPromotion.discount,expression:"newPromotion.discount"}],staticClass:"form-control",attrs:{type:"number",id:"discount",min:"1",max:"100",required:""},domProps:{value:e.newPromotion.discount},on:{input:function(t){t.target.composing||e.$set(e.newPromotion,"discount",t.target.value)}}})]),t("div",{staticClass:"mb-3"},[t("label",{staticClass:"form-label",attrs:{for:"startDate"}},[e._v("Početni datum:")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.newPromotion.startDate,expression:"newPromotion.startDate"}],staticClass:"form-control",attrs:{type:"date",id:"startDate",required:""},domProps:{value:e.newPromotion.startDate},on:{input:function(t){t.target.composing||e.$set(e.newPromotion,"startDate",t.target.value)}}})]),t("div",{staticClass:"mb-3"},[t("label",{staticClass:"form-label",attrs:{for:"endDate"}},[e._v("Završni datum:")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.newPromotion.endDate,expression:"newPromotion.endDate"}],staticClass:"form-control",attrs:{type:"date",id:"endDate",required:""},domProps:{value:e.newPromotion.endDate},on:{input:function(t){t.target.composing||e.$set(e.newPromotion,"endDate",t.target.value)}}})]),t("button",{staticClass:"btn btn-success w-100",attrs:{type:"submit"}},[e._v(" Dodaj promociju ")])]),t("h3",{staticClass:"mt-5 mb-3"},[e._v("Postojeće promocije")]),e.promotions.length?t("ul",{staticClass:"list-group"},e._l(e.promotions,(function(s){return t("li",{key:s.id,staticClass:"list-group-item d-flex justify-content-between align-items-center"},[t("div",[t("h5",[e._v(e._s(s.name))]),t("p",[e._v(e._s(s.description))]),t("p",[e._v("Popust: "+e._s(s.discount)+"%")]),t("p",[e._v(" Važi od "+e._s(e.formatDate(s.startDate))+" do "+e._s(e.formatDate(s.endDate))+" ")])]),t("div",[t("button",{staticClass:"btn btn-primary btn-sm me-2",on:{click:function(t){return e.editPromotion(s)}}},[e._v(" Izmeni ")]),t("button",{staticClass:"btn btn-danger btn-sm",on:{click:function(t){return e.deletePromotion(s.id)}}},[e._v(" Obriši ")])])])})),0):t("p",{staticClass:"alert alert-warning text-center"},[e._v(" Trenutno nema dostupnih promocija. ")])])},ns=[],rs={data(){return{newPromotion:{name:"",description:"",discount:0,startDate:"",endDate:""},editingPromotion:null}},computed:{...(0,K.aH)({promotions:e=>e.promotions.promotions})},mounted(){this.fetchPromotions()},methods:{...(0,K.i0)(["fetchPromotions","createPromotion","deletePromotion"]),submitPromotion(){const e=this.editingPromotion?"updatePromotion":"createPromotion";this[e](this.newPromotion).then((()=>{this.resetForm()}))},editPromotion(e){this.editingPromotion=e,this.newPromotion={...e}},deletePromotion(e){this.deletePromotion(e)},resetForm(){this.newPromotion={name:"",description:"",discount:0,startDate:"",endDate:""},this.editingPromotion=null},formatDate(e){const t={year:"numeric",month:"long",day:"numeric"};return new Date(e).toLocaleDateString("sr-RS",t)}}},as=rs,is=(0,d.A)(as,os,ns,!1,null,"62b5ea1a",null),cs=is.exports,ls={components:{ManagePromotionsView:cs}},ds=ls,us=(0,d.A)(ds,ts,ss,!1,null,null,null),ms=us.exports,ps=function(){var e=this,t=e._self._c;return t("div",[t("RegisterPageView")],1)},fs=[],vs=function(){var e=this,t=e._self._c;return t("div",{staticClass:"register-container"},[t("h1",{staticClass:"mb-4 text-center"},[e._v("Registracija")]),t("form",{on:{submit:function(t){return t.preventDefault(),e.register.apply(null,arguments)}}},[t("div",{staticClass:"mb-3"},[t("label",{staticClass:"form-label",attrs:{for:"username"}},[e._v("Korisničko ime")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],staticClass:"form-control",attrs:{type:"text",id:"username",required:""},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}})]),t("div",{staticClass:"mb-3"},[t("label",{staticClass:"form-label",attrs:{for:"email"}},[e._v("Email")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"form-control",attrs:{type:"email",id:"email",required:""},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}})]),t("div",{staticClass:"mb-3"},[t("label",{staticClass:"form-label",attrs:{for:"password"}},[e._v("Lozinka")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",id:"password",required:""},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),t("button",{staticClass:"btn btn-primary w-100 mb-3",attrs:{type:"submit"}},[e._v(" Registruj se ")])])])},hs=[],gs={name:"RegisterPageView",data(){return{username:"",email:"",password:""}},methods:{register(){const e={username:this.username,password:this.password,email:this.email};fetch("http://localhost:8001/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((e=>{if(!e.ok)throw new Error("Greška pri registraciji");return e.json()})).then((e=>{"User registered successfully"===e.message?(alert("Uspešno ste se registrovali!"),this.$router.push("/login")):alert("Greška prilikom registracije: "+e.message)})).catch((e=>{console.error("Greška:",e),alert("Došlo je do greške pri registraciji.")}))}}},bs=gs,ws=(0,d.A)(bs,vs,hs,!1,null,"7a251c8b",null),_s=ws.exports,Cs={components:{RegisterPageView:_s}},ks=Cs,ys=(0,d.A)(ks,ps,fs,!1,null,null,null),As=ys.exports;o.Ay.use(g.Ay);const js=[{path:"/",component:D},{path:"/login",component:L},{path:"/categories",component:ee},{path:"/orders",component:me},{path:"/register",component:As},{path:"/orders/:id",component:Ae},{path:"/create-order",component:Ee},{path:"/admin-orders",meta:{requiresAdmin:!0},component:Je},{path:"/addons",component:at},{path:"/manage-addons",meta:{requiresAdmin:!0},component:bt},{path:"/reviews",component:zt},{path:"/manage-reviews",meta:{requiresAdmin:!0},component:Mt},{path:"/promotions",component:es},{path:"/manage-promotions",component:ms,meta:{requiresAdmin:!0}},{path:"/coffees",name:"Coffees",component:()=>s.e(396).then(s.bind(s,9396))}],xs=new g.Ay({mode:"history",routes:js});var Ps=xs,Os=s(4373);const Ds={orders:[],order:null},zs={getAllOrders:e=>e.orders},Rs={setOrders(e,t){e.orders=t},setOrder(e,t){e.order=t},addOrder(e,t){e.orders.push(t)},SET_ORDER_STATUS(e,{orderId:t,status:s}){const o=e.orders.find((e=>e.id===t));o&&(o.status=s)}},Ns={async fetchOrders({commit:e}){const t=document.cookie.split("token=")[1],s=await Os.A.get("http://localhost:3000/orders",{headers:{Authorization:`Bearer ${t}`}}),o=JSON.parse(atob(t.split(".")[1])),n=s.data.filter((e=>e.userId===o.id));e("setOrders",n)},async fetchAdminOrders({commit:e}){const t=document.cookie.split("token=")[1],s=await Os.A.get("http://localhost:3000/orders",{headers:{Authorization:`Bearer ${t}`}});e("setOrders",s.data)},async fetchOrderDetails({commit:e},t){const s=document.cookie.split(";").find((e=>e.includes("token"))).split("=")[1],o=await Os.A.get(`http://localhost:3000/orders/${t}`,{headers:{Authorization:`Bearer ${s}`}});e("setOrder",o.data)},async cancelOrder({dispatch:e},t){const s=document.cookie.split(";").find((e=>e.includes("token"))).split("=")[1];await Os.A.delete(`http://localhost:3000/orders/${t}`,{headers:{Authorization:`Bearer ${s}`}}),e("fetchOrders")},async createOrder({commit:e},t){const s=document.cookie.split("token=")[1],o=await Os.A.post("http://localhost:3000/orders",t,{headers:{Authorization:`Bearer ${s}`}});e("addOrder",o.data)},async updateStatus({commit:e},{orderId:t,status:s}){const o=document.cookie.split("token=")[1];try{await Os.A.put(`http://localhost:3000/orders/${t}`,{status:s},{headers:{Authorization:`Bearer ${o}`}}),e("SET_ORDER_STATUS",{orderId:t,status:s})}catch(n){console.error("Error updating status:",n)}}};var Is={state:Ds,getters:zs,mutations:Rs,actions:Ns};const Ss={addons:[]},$s={allAddons:e=>e.addons},Es={async fetchAddons({commit:e}){const t=await Os.A.get("http://localhost:3000/addons");e("setAddons",t.data)},async createAddon({commit:e},t){const s=document.cookie.split("token=")[1],o=await Os.A.post("http://localhost:3000/addons",t,{headers:{Authorization:`Bearer ${s}`}});e("addAddon",o.data)},async deleteAddon({commit:e},t){const s=document.cookie.split("token=")[1];await Os.A.delete(`http://localhost:3000/addons/${t}`,{headers:{Authorization:`Bearer ${s}`}}),e("removeAddon",t)},async updateAddon({commit:e},t){const s=document.cookie.split("token=")[1];try{const o=await Os.A.put(`http://localhost:3000/addons/${t.id}`,{name:t.name,price:t.price},{headers:{Authorization:`Bearer ${s}`}});e("updateAddon",o.data)}catch(o){throw console.error("Error updating addon:",o),o}}},Ts={setAddons:(e,t)=>e.addons=t,addAddon:(e,t)=>e.addons.push(t),removeAddon:(e,t)=>{e.addons=e.addons.filter((e=>e.id!==t))},updateAddon:(e,t)=>{const s=e.addons.findIndex((e=>e.id===t.id));-1!==s&&e.addons.splice(s,1,t)}};var Us={state:Ss,getters:$s,actions:Es,mutations:Ts};const qs={reviews:[]},Vs={allReviews:e=>e.reviews},Ls={async fetchReviews({commit:e}){const t=await Os.A.get("http://localhost:3000/reviews");e("setReviews",t.data)},async createReview({commit:e},t){const s=document.cookie.split("token=")[1],o=await Os.A.post("http://localhost:3000/reviews",t,{headers:{Authorization:`Bearer ${s}`}});e("addReview",o.data)},async deleteReview({commit:e},t){const s=document.cookie.split("token=")[1];if(!s)throw new Error("No authentication token found.");try{await Os.A.delete(`http://localhost:3000/reviews/${t}`,{headers:{Authorization:`Bearer ${s}`}}),e("removeReview",t)}catch(o){console.error("Error deleting review:",o.response||o.message)}}},Ms={setReviews:(e,t)=>e.reviews=t,addReview:(e,t)=>e.reviews.push(t),removeReview:(e,t)=>{e.reviews=e.reviews.filter((e=>e.id!==t))}};var Bs={state:qs,getters:Vs,actions:Ls,mutations:Ms};const Hs={promotions:[]},Gs={allPromotions:e=>e.promotions},Ks={async fetchPromotions({commit:e}){const t=await Os.A.get("http://localhost:3000/promotions");e("setPromotions",t.data)},async createPromotion({commit:e},t){const s=document.cookie.split("token=")[1],o=await Os.A.post("http://localhost:3000/promotions",t,{headers:{Authorization:`Bearer ${s}`}});e("addPromotion",o.data)},async updatePromotion({commit:e},t){const s=document.cookie.split("token=")[1],o=await Os.A.put(`http://localhost:3000/promotions/${t.id}`,t,{headers:{Authorization:`Bearer ${s}`}});e("updatePromotion",o.data)},async deletePromotion({commit:e},t){const s=document.cookie.split("token=")[1];await Os.A.delete(`http://localhost:3000/promotions/${t}`,{headers:{Authorization:`Bearer ${s}`}}),e("removePromotion",t)}},Fs={setPromotions:(e,t)=>e.promotions=t,addPromotion:(e,t)=>e.promotions.push(t),updatePromotion:(e,t)=>{const s=e.promotions.findIndex((e=>e.id===t.id));-1!==s&&e.promotions.splice(s,1,t)},removePromotion:(e,t)=>{e.promotions=e.promotions.filter((e=>e.id!==t))}};var Js={state:Hs,getters:Gs,actions:Ks,mutations:Fs};const Ws={users:[]},Zs={setUsers(e,t){e.users=t}},Qs={async fetchUsers({commit:e}){const t=document.cookie.split(";").find((e=>e.includes("token")))?.split("=")[1];t||console.error("No authentication token found.");try{const s=await Os.A.get("http://localhost:8001/auth/users",{headers:{Authorization:`Bearer ${t}`}});e("setUsers",s.data)}catch(s){console.error("Error fetching users:",s)}}};var Xs={state:Ws,mutations:Zs,actions:Qs};const Ys={categories:[]},eo={allCategories:e=>e.categories},to={async fetchCategories({commit:e}){try{const t=await Os.A.get("http://localhost:3000/categories");e("setCategories",t.data)}catch(t){console.error("Error fetching categories:",t)}}},so={setCategories:(e,t)=>e.categories=t};var oo={state:Ys,getters:eo,actions:to,mutations:so};const no={coffees:[]},ro={allCoffees:e=>e.coffees},ao={async fetchCoffees({commit:e}){try{const t=await Os.A.get("http://localhost:3000/coffees");e("setCoffees",t.data)}catch(t){console.error("Error fetching coffees:",t)}}},io={setCoffees:(e,t)=>e.coffees=t};var co={state:no,getters:ro,actions:ao,mutations:io};o.Ay.use(K.Ay);var lo=new K.Ay.Store({modules:{orders:Is,addons:Us,reviews:Bs,promotions:Js,users:Xs,categories:oo,coffees:co}});s(9953);o.Ay.config.productionTip=!1;const uo=document.cookie.split("token=")[1];uo&&(Os.A.defaults.headers.common["Authorization"]=`Bearer ${uo}`),new o.Ay({router:Ps,store:lo,render:e=>e(h)}).$mount("#app")},8520:function(e,t,s){var o={"./cimet.webp":8275,"./cokoladni-preliv.webp":2380,"./default.webp":8020,"./djumbir-sirup.webp":1630,"./karamel-preliv.webp":5443,"./med.webp":427,"./menta-sirup.webp":868,"./slag.webp":6760,"./vanilin-secer.webp":8689};function n(e){var t=r(e);return s(t)}function r(e){if(!s.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}n.keys=function(){return Object.keys(o)},n.resolve=r,e.exports=n,n.id=8520},7725:function(e,t,s){var o={"./biljni-napitci.webp":2599,"./caj.webp":9884,"./cappuccino.webp":4717,"./espresso.webp":3230,"./latte.webp":7220,"./moka.webp":222,"./placeholder.webp":2079,"./vruca-cokolada.webp":1488};function n(e){var t=r(e);return s(t)}function r(e){if(!s.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}n.keys=function(){return Object.keys(o)},n.resolve=r,e.exports=n,n.id=7725},1028:function(e,t,s){var o={"./kreiraj-narudzbinu.webp":2514,"./moje-narudzbine.webp":6595,"./pogledaj-dodatke.webp":6180,"./pogledaj-kafe.webp":1211,"./pogledaj-kategorije.webp":9691,"./pogledaj-promocije.webp":9332,"./pogledaj-recenzije.webp":1123};function n(e){var t=r(e);return s(t)}function r(e){if(!s.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}n.keys=function(){return Object.keys(o)},n.resolve=r,e.exports=n,n.id=1028},8275:function(e,t,s){"use strict";e.exports=s.p+"img/cimet.c23655d5.webp"},2380:function(e,t,s){"use strict";e.exports=s.p+"img/cokoladni-preliv.033bfe9a.webp"},8020:function(e,t,s){"use strict";e.exports=s.p+"img/default.35fc6b41.webp"},1630:function(e,t,s){"use strict";e.exports=s.p+"img/djumbir-sirup.2e851038.webp"},5443:function(e,t,s){"use strict";e.exports=s.p+"img/karamel-preliv.962b63ae.webp"},427:function(e,t,s){"use strict";e.exports=s.p+"img/med.782e875d.webp"},868:function(e,t,s){"use strict";e.exports=s.p+"img/menta-sirup.8c1b6ef2.webp"},6760:function(e,t,s){"use strict";e.exports=s.p+"img/slag.2413c033.webp"},8689:function(e,t,s){"use strict";e.exports=s.p+"img/vanilin-secer.1e033891.webp"},2599:function(e,t,s){"use strict";e.exports=s.p+"img/biljni-napitci.924299fa.webp"},9884:function(e,t,s){"use strict";e.exports=s.p+"img/caj.fc99b4e4.webp"},4717:function(e,t,s){"use strict";e.exports=s.p+"img/cappuccino.c4b46098.webp"},3230:function(e,t,s){"use strict";e.exports=s.p+"img/espresso.126906d0.webp"},7220:function(e,t,s){"use strict";e.exports=s.p+"img/latte.b9901132.webp"},222:function(e,t,s){"use strict";e.exports=s.p+"img/moka.9dbb74d6.webp"},2079:function(e,t,s){"use strict";e.exports=s.p+"img/placeholder.126e65c5.webp"},1488:function(e,t,s){"use strict";e.exports=s.p+"img/vruca-cokolada.2e09791c.webp"},2514:function(e,t,s){"use strict";e.exports=s.p+"img/kreiraj-narudzbinu.5d12d4d5.webp"},6595:function(e,t,s){"use strict";e.exports=s.p+"img/moje-narudzbine.81c9a212.webp"},6180:function(e,t,s){"use strict";e.exports=s.p+"img/pogledaj-dodatke.3a3376c8.webp"},1211:function(e,t,s){"use strict";e.exports=s.p+"img/pogledaj-kafe.a384c6e6.webp"},9691:function(e,t,s){"use strict";e.exports=s.p+"img/pogledaj-kategorije.21712ee6.webp"},9332:function(e,t,s){"use strict";e.exports=s.p+"img/pogledaj-promocije.fc81c334.webp"},1123:function(e,t,s){"use strict";e.exports=s.p+"img/pogledaj-recenzije.cd332ab7.webp"},3153:function(e,t,s){"use strict";e.exports=s.p+"img/logo.e7752583.png"}},t={};function s(o){var n=t[o];if(void 0!==n)return n.exports;var r=t[o]={exports:{}};return e[o].call(r.exports,r,r.exports,s),r.exports}s.m=e,function(){var e=[];s.O=function(t,o,n,r){if(!o){var a=1/0;for(d=0;d<e.length;d++){o=e[d][0],n=e[d][1],r=e[d][2];for(var i=!0,c=0;c<o.length;c++)(!1&r||a>=r)&&Object.keys(s.O).every((function(e){return s.O[e](o[c])}))?o.splice(c--,1):(i=!1,r<a&&(a=r));if(i){e.splice(d--,1);var l=n();void 0!==l&&(t=l)}}return t}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[o,n,r]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var o in t)s.o(t,o)&&!s.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){s.f={},s.e=function(e){return Promise.all(Object.keys(s.f).reduce((function(t,o){return s.f[o](e,t),t}),[]))}}(),function(){s.u=function(e){return"js/"+e+".ab7cc00c.js"}}(),function(){s.miniCssF=function(e){return"css/"+e+".4051a1b3.css"}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="frontend:";s.l=function(o,n,r,a){if(e[o])e[o].push(n);else{var i,c;if(void 0!==r)for(var l=document.getElementsByTagName("script"),d=0;d<l.length;d++){var u=l[d];if(u.getAttribute("src")==o||u.getAttribute("data-webpack")==t+r){i=u;break}}i||(c=!0,i=document.createElement("script"),i.charset="utf-8",i.timeout=120,s.nc&&i.setAttribute("nonce",s.nc),i.setAttribute("data-webpack",t+r),i.src=o),e[o]=[n];var m=function(t,s){i.onerror=i.onload=null,clearTimeout(p);var n=e[o];if(delete e[o],i.parentNode&&i.parentNode.removeChild(i),n&&n.forEach((function(e){return e(s)})),t)return t(s)},p=setTimeout(m.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=m.bind(null,i.onerror),i.onload=m.bind(null,i.onload),c&&document.head.appendChild(i)}}}(),function(){s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){s.p="/"}(),function(){if("undefined"!==typeof document){var e=function(e,t,o,n,r){var a=document.createElement("link");a.rel="stylesheet",a.type="text/css",s.nc&&(a.nonce=s.nc);var i=function(s){if(a.onerror=a.onload=null,"load"===s.type)n();else{var o=s&&s.type,i=s&&s.target&&s.target.href||t,c=new Error("Loading CSS chunk "+e+" failed.\n("+o+": "+i+")");c.name="ChunkLoadError",c.code="CSS_CHUNK_LOAD_FAILED",c.type=o,c.request=i,a.parentNode&&a.parentNode.removeChild(a),r(c)}};return a.onerror=a.onload=i,a.href=t,o?o.parentNode.insertBefore(a,o.nextSibling):document.head.appendChild(a),a},t=function(e,t){for(var s=document.getElementsByTagName("link"),o=0;o<s.length;o++){var n=s[o],r=n.getAttribute("data-href")||n.getAttribute("href");if("stylesheet"===n.rel&&(r===e||r===t))return n}var a=document.getElementsByTagName("style");for(o=0;o<a.length;o++){n=a[o],r=n.getAttribute("data-href");if(r===e||r===t)return n}},o=function(o){return new Promise((function(n,r){var a=s.miniCssF(o),i=s.p+a;if(t(a,i))return n();e(o,i,null,n,r)}))},n={524:0};s.f.miniCss=function(e,t){var s={396:1};n[e]?t.push(n[e]):0!==n[e]&&s[e]&&t.push(n[e]=o(e).then((function(){n[e]=0}),(function(t){throw delete n[e],t})))}}}(),function(){var e={524:0};s.f.j=function(t,o){var n=s.o(e,t)?e[t]:void 0;if(0!==n)if(n)o.push(n[2]);else{var r=new Promise((function(s,o){n=e[t]=[s,o]}));o.push(n[2]=r);var a=s.p+s.u(t),i=new Error,c=function(o){if(s.o(e,t)&&(n=e[t],0!==n&&(e[t]=void 0),n)){var r=o&&("load"===o.type?"missing":o.type),a=o&&o.target&&o.target.src;i.message="Loading chunk "+t+" failed.\n("+r+": "+a+")",i.name="ChunkLoadError",i.type=r,i.request=a,n[1](i)}};s.l(a,c,"chunk-"+t,t)}},s.O.j=function(t){return 0===e[t]};var t=function(t,o){var n,r,a=o[0],i=o[1],c=o[2],l=0;if(a.some((function(t){return 0!==e[t]}))){for(n in i)s.o(i,n)&&(s.m[n]=i[n]);if(c)var d=c(s)}for(t&&t(o);l<a.length;l++)r=a[l],s.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return s.O(d)},o=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=s.O(void 0,[504],(function(){return s(7821)}));o=s.O(o)})();
//# sourceMappingURL=app.28df1346.js.map